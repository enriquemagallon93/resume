import{r as d,j as p}from"./app-DJ35NbgZ.js";import{p as j}from"./stylex-Ch64yUrd.js";import{u as P}from"./useSettings-B_0cOhME.js";const V={pageWidth:"var(--x1fn3a8u)",pageHeight:"var(--x1kjd5qc)",pageHorizontalPadding:"var(--x1rpv2sb)",pageVerticalPadding:"var(--xumkyub)",__themeName__:"x1tmxgoh"},C=e=>{var t;return((t=e.match(/var\(([^)]+)\)/i))==null?void 0:t[1])||""},N=(e,t)=>Object.entries(t).reduce((l,[o,{alias:s,newValueForCssVar:n}])=>{const r=`--${s}`,u=e[o],i=C(u);return{...l,[r]:n,[i]:`var(${r})`}},{}),T={page:{width:"x1m3kc1j",height:"xheiift",paddingLeft:"xqse566",paddingRight:"x16aehvl",paddingTop:"x1ud3qp8",paddingBottom:"x1xvz3tv",background:"x1asl8fe",color:"x8pfw09",display:"x1lliihq",margin:"x19bbpc0",marginTop:"x4bzj6j",marginBottom:"x17qavmb",boxShadow:"xm9n0i2",fontFamily:"x1lipt6j",textRendering:"xfqjyog",textSizeAdjust:"x1javzw2",fontStyle:"x1j61x8r",fontVariantAlternates:"x19nk6br",fontVariantCaps:"x1y961wn",fontVariantEastAsian:"x1jussut",fontVariantLigatures:"x1hou9e9",fontVariantNumeric:"xj8fevo",fontVariantPosition:"xes72ur",unicodeBidi:"x4ej8vm",fontSize:"xfifm61",lineHeight:"xd4r4e8",position:"x1n2onr6","@media print_width":"x9lbmaw","@media print_height":"x1roiz7s","@media print_margin":"x1usu962","@media print_boxShadow":"x1ne5wnl",$$css:!0}},v=e=>typeof e=="number"?`${e}px`:e,$=d.forwardRef(function({children:t,width:l="auto",height:o="auto",horizontalMargin:s=0,verticalMargin:n=0,style:r},u){const i=N(V,{pageWidth:{alias:"pageWidth",newValueForCssVar:v(l)},pageHeight:{alias:"pageHeight",newValueForCssVar:v(o)},pageHorizontalPadding:{alias:"pageHorizontalPadding",newValueForCssVar:v(s)},pageVerticalPadding:{alias:"pageVerticalPadding",newValueForCssVar:v(n)}}),{className:c,style:a}=j(T.page,r);return p.jsx("div",{ref:u,className:`page ${c}`,style:{...a,...i},children:t})}),F={$$css:!0,"var(--x1wr7kg)":"xcy2v0q"},k={$$css:!0,"var(--x1wr7kg)":"x3cy85e"},z={$$css:!0,"var(--x1wr7kg)":"xm1x64x"},H={default:null,dracula:k},L={default:F,dracula:z},E=({children:e})=>{const{mode:t,themeName:l}=P();return p.jsx("div",{...j(t==="light"?H[l]:L[l]),children:e})},b=e=>Math.round(Number.parseFloat(e)*1e4)/1e4,R=(e,t)=>{const l=e.getBoundingClientRect();return t.getBoundingClientRect().top-l.top},M=e=>{const{paddingTop:t,paddingBottom:l}=getComputedStyle(e),{offsetHeight:o}=e,s=b(t),n=o-s-b(l),r=c=>{const{offsetHeight:a}=c,g=R(e,c)-s+a;return Math.floor(g/n)+1};return{fitInPage:(c,a)=>r(c)===a,getLastPageNumber:r,removeEmptyPaths:c=>c.join(",").replace(/(,0)+$/g,"").split(",").map(a=>Number.parseInt(a))}},_=new Set(["BR"]),q=e=>{const{fitInPage:t,getLastPageNumber:l,removeEmptyPaths:o}=M(e),s=l(e),n=[[]];let r=1;const u=(i,...c)=>{if(!_.has(i.tagName.toUpperCase())&&!t(i,r)){if(i.children.length===0){n.push(o([...c])),r+=1;return}Array.from(i.children).every((a,m)=>(u(a,...c,m),r<s))}};return u(e),n},B=e=>{const t=(o,s,[n=0,...r],[u=1/0,...i])=>{if(typeof n!="number")return s;const c=Math.min(o.children.length,u);for(let a=n;a<=c;a++){const m=o.children[a];let g=[],f=[];if(!m)break;if(a===n&&a!==c){if(r.length===0){const x=m.cloneNode(!0);s.appendChild(x);continue}g=[],f=[...r]}else if(a===n&&a===c)g=[...i],f=[...r];else if(a===c&&a!==n){if(i.length===0)break;f=[],g=[...i]}else{const x=m.cloneNode(!0);s.appendChild(x);continue}const h=m,y=h.cloneNode();s.appendChild(y),t(h,y,f,g)}return s};return{cloneFromPathToLimit:(o,s=[])=>t(e,e.cloneNode(),o,s)}},I=({fullPageRef:e,fallbackContent:t})=>{const[l,o]=d.useState([]),[s,n]=d.useState(!1),[r,u]=d.useState(!0),{width:i,height:c,horizontalMargin:a,verticalMargin:m}=P();return d.useLayoutEffect(()=>{u(!1)},[]),d.useLayoutEffect(()=>{n(!1),o([])},[t,i,c,a,m]),d.useLayoutEffect(()=>{if(s)return;const g=e.current;if(!g)return;const f=setTimeout(()=>{const h=q(g),{cloneFromPathToLimit:y}=B(g),x=h.map((w,S)=>y(w,h[S+1]).outerHTML);o(x),n(!0)},100);return()=>{clearTimeout(f)}},[e,s]),r||!s?t:p.jsx(p.Fragment,{children:l.map((g,f)=>p.jsx("div",{dangerouslySetInnerHTML:{__html:g}},f))})},A={noJs:{height:"xt7dq6l",$$css:!0}},U=({children:e})=>{const[t,l]=d.useState(!0),{width:o,height:s,horizontalMargin:n,verticalMargin:r}=P(),u=d.useRef(null),i=d.useMemo(()=>p.jsx("div",{children:p.jsx($,{style:[t&&A.noJs],ref:u,width:o,height:s,horizontalMargin:n,verticalMargin:r,children:e})}),[e,t,o,s,n,r]);return d.useEffect(()=>{l(!1)},[]),p.jsx(E,{children:p.jsx("main",{children:t?i:p.jsx(I,{fullPageRef:u,fallbackContent:i})})})};export{U as default};
